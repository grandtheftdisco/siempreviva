<%# Cross-sell Products Section %>
<%# Usage: <%= render 'products/cross_sells', products: @cross_sell_products %>

<% products ||= [] %>

<% if products.any? %>
  <div class="flex flex-col lg:flex-row justify-center items-center lg:items-start gap-8 lg:gap-12">
    <% products.take(3).each do |product| %>
      <div class="text-center flex-shrink-0">
        <%= link_to product_path(product.id), class: "block no-underline" do %>
          <div class="bg-gray-100 h-40 w-80 rounded-lg mb-3 flex items-center justify-center overflow-hidden">
            <% if product.images.any? %>
              <%= image_tag(product.images.first, alt: product.name.titleize, class: "w-full h-full object-cover") %>
            <% else %>
              <span class="text-gray-500">Product Image</span>
            <% end %>
          </div>
          <h3 class="font-medium text-gray-800 mb-1"><%= format_product_name(product.name) %></h3>
          <p class="text-gray-600"><%= to_dollars(product.default_price.unit_amount) %></p>
        <% end %>
      </div>
    <% end %>
  </div>
<% else %>
  <%# Fallback placeholder when no products are passed %>
  <div class="flex flex-col lg:flex-row justify-center items-center lg:items-start gap-8 lg:gap-12">
    <% 3.times do %>
      <div class="text-center flex-shrink-0">
        <div class="bg-gray-200 h-40 w-80 rounded-lg mb-3 flex items-center justify-center">
          <span class="text-gray-500">Product Image</span>
        </div>
        <h3 class="font-medium text-gray-800 mb-1">product name</h3>
        <p class="text-gray-600">$XX.XX</p>
      </div>
    <% end %>
  </div>
<% end %>
