<%# Quantity Selector Component - Flowbite Style %>
<%# Usage: <%= render 'shared/quantity_selector',
#            input_id: 'quantity-input',
#            initial_value: 1,
#            min_value: 1,
#            field_name: 'cart_item[quantity]' (optional, defaults to nil for use with form builders) %>

<% input_id ||= "quantity-input-#{SecureRandom.uuid}" %>
<% initial_value ||= 1 %>
<% min_value ||= 1 %>
<% field_name ||= nil %>

<div class="relative flex items-center max-w-[8rem]">
  <button type="button"
          data-input-counter-decrement="<%= input_id %>"
          class="quantity-button w-8 h-8 flex items-center justify-center rounded-l-2xl border border-sv-gray-200 bg-sv-gray-200 hover:bg-sv-gray-300 text-sv-gray-700 transition-colors duration-200">
    <svg class="w-2 h-2" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 2">
      <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1h16"/>
    </svg>
  </button>

  <input type="number"
         id="<%= input_id %>"
         <% if field_name.present? %>name="<%= field_name %>"<% end %>
         value="<%= initial_value %>"
         min="<%= min_value %>"
         data-input-counter
         class="text-center text-sm block w-12 h-8 bg-sv-gray-100 rounded-none border border-sv-gray-200 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none" />

  <button type="button"
          data-input-counter-increment="<%= input_id %>"
          class="quantity-button w-8 h-8 flex items-center justify-center rounded-r-2xl border border-sv-gray-200 bg-sv-gray-200 hover:bg-sv-gray-300 text-sv-gray-700 transition-colors duration-200">
    <svg class="w-2 h-2" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 18">
      <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 1v16M1 9h16"/>
    </svg>
  </button>
</div>
