/* UI Components Stylesheet with SASS Mixins */

/* ===== COLOR PALETTE VARIABLES ===== */
/* Standardized color palette from wireframe */

/* Purple shades */
$primary-purple: #c5aace;
$button-purple: #e6d3ec;
$button-hover-purple: #674174 ;
$background-purple: #f0e8f5;

/* Green shades */
$primary-green: #8ba170;
$light-green: #bdcea9;
$button-green: #698b3f;
$button-hover-green: #4f5e3c;

/* Pink shades */  
$light-pink: #f7c8d8;
$medium-pink: #f4a5c2;

/* Background colors */
$light-bg: #f8f9fa;
$white-bg: #ffffff;

/* Text colors */
$dark-text: #2c3e50;
$medium-text: #6c757d;
$light-text: #adb5bd;

/* Action colors */
$success-green: #5a8664;
$warning-orange: #c19550;
$danger-red: #b9626b;
$info-blue: #6b9fa8;

/* ===== BUTTON MIXINS ===== */

/* Base button mixin with pill shape */
@mixin btn-base {
  padding: 0.75rem 1.5rem;
  border-radius: 9999px; /* Full pill shape */
  text-decoration: none;
  text-align: center;
  font-family: 'Raleway', sans-serif;
  font-weight: 500;
  cursor: pointer;
  display: inline-block;
  transition: all 0.2s ease;
  border: 2px solid transparent;
}

/* Primary button (filled) */
@mixin btn-primary($bg-color: $primary-purple, $text-color: $white-bg, $hover-bg: darken($primary-purple, 10%)) {
  @include btn-base;
  background: $bg-color;
  color: $text-color;
  border-color: $bg-color;
  
  &:hover {
    background: $hover-bg;
    border-color: $hover-bg;
    color: $text-color;
  }
}

/* Secondary button (outline) */
@mixin btn-secondary($border-color: $button-green, $text-color: $primary-purple, $hover-bg: $button-hover-green, $hover-text: $white-bg) {
  @include btn-base;
  background: transparent;
  color: $text-color;
  border-color: $border-color;
  
  &:hover {
    background: $hover-bg;
    color: $hover-text;
    border-color: $hover-bg;
  }
}

/* green button (filled with white text) */
@mixin btn-green($bg-color: $button-green, $text-color: $white-bg, $hover-bg: $button-hover-green) {
  @include btn-base;
  background: $bg-color;
  color: $text-color;
  border-color: $bg-color;
  
  &:hover {
    background: $hover-bg;
    border-color: $hover-bg;
    color: $text-color;
  }
}

/* light green button (with dark green text) */
@mixin btn-green-light($bg-color: $light-green, $text-color: $button-hover-green, $hover-bg: $primary-green) {
  @include btn-base;
  background: $bg-color;
  color: $text-color;
  border-color: $bg-color;
  
  &:hover {
    background: $hover-bg;
    border-color: $hover-bg;
    color: $text-color;
  }
}

/* Danger button (red) */
@mixin btn-danger($bg-color: $danger-red, $text-color: $white-bg, $hover-bg: darken($danger-red, 10%)) {
  @include btn-base;
  background: $bg-color;
  color: $text-color;
  border-color: $bg-color;
  
  &:hover {
    background: $hover-bg;
    border-color: $hover-bg;
    color: $text-color;
  }
}

/* Small button variant */
@mixin btn-small {
  padding: 0.5rem 1rem;
  font-size: 0.85rem;
}

/* Large button variant */
@mixin btn-large {
  padding: 1rem 2rem;
  font-size: 1.1rem;
}

/* ===== UTILITY CLASSES ===== */

/* Ready-to-use button classes using only Tailwind utilities */
.btn-pill-base {
  @apply px-6 py-3 rounded-full no-underline text-center font-medium cursor-pointer inline-block transition-all duration-200 border-2 border-transparent;
  font-family: 'Raleway', sans-serif;
}

.btn-pill-primary {
  @apply px-6 py-3 rounded-full no-underline text-center font-medium cursor-pointer inline-block transition-all duration-200 border-2 bg-purple-700 text-white border-purple-700 hover:bg-purple-800 hover:border-purple-800;
  font-family: 'Raleway', sans-serif;
}

.btn-pill-secondary {
  @apply px-6 py-3 rounded-full no-underline text-center font-medium cursor-pointer inline-block transition-all duration-200 border-2 bg-transparent text-purple-700 border-purple-700 hover:bg-purple-700 hover:text-white;
  font-family: 'Raleway', sans-serif;
}

.btn-pill-danger {
  @apply px-6 py-3 rounded-full no-underline text-center font-medium cursor-pointer inline-block transition-all duration-200 border-2 bg-red-600 text-white border-red-600 hover:bg-red-700 hover:border-red-700;
  font-family: 'Raleway', sans-serif;
}

.btn-pill-small {
  @apply px-4 py-2 text-sm rounded-full no-underline text-center font-medium cursor-pointer inline-block transition-all duration-200 border-2;
  font-family: 'Raleway', sans-serif;
}

.btn-pill-large {
  @apply px-8 py-4 text-lg rounded-full no-underline text-center font-medium cursor-pointer inline-block transition-all duration-200 border-2;
  font-family: 'Raleway', sans-serif;
}

/* ===== COMPONENT STYLES ===== */

/* Update existing cart buttons to pill shape */
.continue-shopping-btn {
  @include btn-secondary;
}

.checkout-btn {
  @include btn-green;
}

.cart-checkout-btn {
  /* Manually include btn-green styles with hex colors */
  padding: 0.75rem 1.5rem;
  border-radius: 9999px;
  text-decoration: none;
  text-align: center;
  font-family: 'Raleway', sans-serif;
  font-weight: 500;
  cursor: pointer;
  display: block;
  width: 100%;
  transition: all 0.2s ease;
  border: 2px solid transparent;
  background: #698b3f;
  color: #ffffff;
  border-color: #698b3f;
  font-size: 0.875rem;
  
  &:hover {
    background: #63754c;
    border-color: #63754c;
    color: #ffffff;
  }
}

.quantity-update-btn-visible {
  @include btn-green-light;
  @include btn-small;
}

.remove-item-btn-red {
  @include btn-danger;
  @include btn-small;
}

/* ===== FLASH NOTIFICATION STYLES ===== */

/* Base flash notification sizing */
.flash-notification {
  width: 14rem; /* ~224px - reasonable fixed width */
  min-width: 12rem; /* ~192px - minimum for short messages */
  max-width: 90vw; /* Responsive max width for mobile */
}

/* Use high specificity to override any transparent backgrounds */
main .flash-notice,
div.flash-notice {
  background-color: #bdcea9 !important; /* Light green derived from $primary-green */
  background: #bdcea9 !important;
  border-color: #8ba170 !important; /* $primary-green */
  color: #5e6b4d !important; /* Darker green for text */
}

main .flash-alert,
div.flash-alert {
  background-color: #d4c2dc !important; /* Light purple derived from $primary-purple */
  background: #d4c2dc !important;
  border-color: #674174 !important; /* $primary-purple */
  color: #3d2545 !important; /* Darker purple for text */
}

main .flash-error,
div.flash-error {
  background-color: #f5c6cb !important; /* Light red */
  background: #f5c6cb !important;
  border-color: #dc3545 !important; /* Red */
  color: #721c24 !important; /* Dark red for text */
}

main .flash-warning,
div.flash-warning {
  background-color: #ffeaa7 !important; /* Light orange */
  background: #ffeaa7 !important;
  border-color: #fd7e14 !important; /* Orange */
  color: #7d3c06 !important; /* Dark orange for text */
}

/* ===== FORM MIXINS ===== */

/* Base form input with optional parameters */
@mixin form-input-base($width: auto, $padding: 0.75rem 1rem, $border-radius: 0.375rem) {
  @if $width != auto {
    width: $width;
  }
  padding: $padding;
  border: 1px solid lighten($medium-text, 30%);
  border-radius: $border-radius;
  font-family: 'Raleway', sans-serif;
  transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
  
  &:focus {
    outline: none;
    border-color: $primary-purple;
    box-shadow: 0 0 0 3px rgba(103, 65, 116, 0.1);
  }
}

/* Form label */
@mixin form-label {
  display: block;
  margin-bottom: 0.5rem;
  font-weight: 500;
  color: $dark-text;
  font-family: 'Raleway', sans-serif;
}

/* Error input state */
@mixin form-input-error {
  border-color: $danger-red;
  
  &:focus {
    border-color: $danger-red;
    box-shadow: 0 0 0 3px rgba(220, 53, 69, 0.1);
  }
}

/* ===== CARD MIXINS ===== */

/* Base card */
@mixin card-base {
  background: $white-bg;
  border-radius: 0.5rem;
  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
  padding: 1.5rem;
}

/* Card with border */
@mixin card-bordered {
  @include card-base;
  border: 1px solid lighten($medium-text, 40%);
}

/* ===== UTILITY MIXINS ===== */

/* Sticky positioning helper */
@mixin sticky-top($top: 0) {
  position: sticky;
  top: $top;
  z-index: 10;
}

/* Mobile dropdown styling with light purple background and drop shadow */
@mixin dropdown-div {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  background-color: $background-purple; /* Light purple background */
  border-top: 1px solid rgba(103, 65, 116, 0.15);
  box-shadow: 0 4px 12px -2px rgba(103, 65, 116, 0.15), 0 2px 4px -1px rgba(103, 65, 116, 0.06);
  z-index: 50;
  padding: 1rem;
  display: none; /* Initially hidden */
}

/* ===== DROPDOWN UTILITY CLASSES ===== */

/* Base dropdown class using the mixin */
.dropdown-base {
  @include dropdown-div;
}

/* Mobile dropdown for navigation and search */
.mobile-dropdown {
  @include dropdown-div;
}

/* Flex center helper */
@mixin flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Flex between helper */
@mixin flex-between {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

/* Text truncate helper */
@mixin text-truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* ===== READY-TO-USE COMPONENT CLASSES ===== */

/* Form components */
.form-input {
  @include form-input-base;
}

.form-input-small {
  @include form-input-base($width: 30px, $padding: 2px 4px, $border-radius: 9999px);
  text-align: center !important;
  font-size: 0.85rem !important;
  background: #f0e8f5 !important;
  width: 50px !important;
  max-width: 60px !important;
  min-width: 50px !important;
  border-radius: 4500px !important;
  box-sizing: border-box !important;
}

.form-label {
  @include form-label;
}

.form-input-error {
  @include form-input-base;
  @include form-input-error;
}

/* Card components */
.card {
  @include card-base;
}

.card-bordered {
  @include card-bordered;
}

/* Utility classes */
.flex-center {
  @include flex-center;
}

.flex-between {
  @include flex-between;
}

.text-truncate {
  @include text-truncate;
}
