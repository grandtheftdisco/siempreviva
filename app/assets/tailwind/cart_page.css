/* Cart Page Stylesheet */
/* Contains cart page layout, cart page items, and cart summary section */

/* ===== CART PAGE LAYOUT ===== */

.cart-container {
  /* Sizing & spacing */
  @apply max-w-screen-xl mx-auto px-4 py-8;

  /* Typography */
  @apply font-sans;
}

.cart-header {
  /* Sizing & spacing */
  @apply mb-12;

  /* Typography */
  @apply text-center font-serif;
}

.cart-content {
  /* Layout & spacing*/
  @apply flex flex-col gap-8 items-center;
}


/* Cart items appear second on mobile */
.cart-items-section {
  @apply order-2 w-full;
}

/* Desktop: 2-column grid layout */
@media (min-width: 768px) {
  .cart-content {
    /* Sizing & spacing */
    @apply gap-12;

    /* Layout & positioning */
    @apply grid items-start;
    grid-template-columns: 2fr 1fr;
  }



  .cart-items-section {
    @apply order-none w-auto;
  }
}

/* ===== CART PAGE ITEMS ===== */

.cart-items {
  /* Layout & spacing*/
  @apply flex flex-col gap-3 p-4;

  /* Shape */
  @apply rounded-lg;

  /* Colors */
  @apply bg-sv-purple-200;
}

/* Desktop: Remove background and increase gap */
@media (min-width: 768px) {
  .cart-items {
    /* Sizing & spacing */
    @apply gap-8 p-0;

    /* Shape */
    @apply rounded-none;

    /* Colors */
    @apply bg-transparent;
  }
}

/* Mobile-first: Cart page line items inside .cart-items container */
.cart-items .cart-page-item {
  /* Layout */
  @apply flex justify-between items-start relative;

  /* Sizing & spacing */
  @apply py-2 px-4 gap-0;

  /* Colors */
  @apply bg-transparent border-0;
}

/* Desktop: Grid card layout for line items in .cart-items container */
@media (min-width: 768px) {
  .cart-items .cart-page-item {
    /* Sizing & spacing */
    @apply p-6 gap-6;

    /* Layout & positioning */
    @apply grid items-start;

    /* Shape */
    @apply rounded-lg;

    /* Colors */
    @apply bg-white border border-gray-300;

    /* Grid columns using fraction units */
    grid-template-columns: 8rem 1fr;
  }
}

/* Hide product images on mobile */
.cart-items .cart-page-item .cart-item-image {
  @apply hidden;
}

/* Desktop: Show images */
@media (min-width: 768px) {
  .cart-items .cart-page-item .cart-item-image {
    @apply block;
  }
}

.cart-items .cart-page-item .cart-item-details {
  /* Sizing & spacing */
  @apply w-full pt-1 pr-0 mr-0;

  /* Layout */
  @apply flex-1 block;
}

/* Desktop: Item details - flex column */
@media (min-width: 768px) {
  .cart-items .cart-page-item .cart-item-details {
    @apply flex flex-col;
  }
}


.cart-items .cart-page-item .product-name {
  /* Sizing & spacing */
  @apply m-0 mr-3;

  /* Layout */
  @apply inline;

  /* Typography */
  @apply text-base;
}

/* Desktop: Product name - larger block */
@media (min-width: 768px) {
  .cart-items .cart-page-item .product-name {
    /* Layout */
    @apply block;

    /* Typography */
    @apply text-lg;
  }
}

.cart-items .cart-page-item .product-price {
  /* Sizing & spacing */
  @apply m-0;

  /* Layout */
  @apply inline;

  /* Colors */
  @apply text-neutral-600;

  /* Typography */
  @apply text-sm font-medium;
}

/* Desktop: Product price */
@media (min-width: 768px) {
  .cart-items .cart-page-item .product-price {
    /* Layout */
    @apply block text-left;

    /* Typography */
    @apply text-base;
  }
}

.cart-item-remove-form {
  /* Sizing & spacing */
  @apply w-5 h-5 m-0;

  /* Layout & positioning */
  @apply absolute top-1 right-0 z-10;
}

/* Desktop: Inline form */
@media (min-width: 768px) {
  .cart-item-remove-form {
    @apply top-4 right-4 w-6 h-6;
  }
}

/* AUDIT - separate these queries to pair with their base defs */
/* Extra-small screens (iPhone SE, etc.) - single column layout */
@media (max-width: 640px) {
  .cart-page-item {
    /* Sizing & spacing */
    @apply gap-4;

    /* Layout & positioning */
    grid-template-columns: 1fr;
  }

  .cart-item-image {
    /* Layout */
    @apply justify-self-center;
  }
}

.cart-item-image {
  /* Sizing */
  @apply w-32 h-32;

  /* Layout */
  @apply flex items-center justify-center;

  /* Shape */
  @apply rounded-lg;

  /* Colors */
  @apply bg-transparent;

  /* Behavior */
  @apply overflow-hidden;
}

/* AUDIT - prefer renaming to chaining */
.cart-item-image .product-image {
  /* Sizing */
  @apply w-full h-full;

  /* Behavior */
  @apply object-cover;
}

/* AUDIT - specify this selector name more */
.image-placeholder {
  /* Sizing */
  @apply w-full h-full;

  /* Shape */
  @apply rounded;

  /* Colors */
  @apply bg-gray-200;
}

.cart-item-details {
  /* Sizing & spacing */
  @apply h-full gap-3;

  /* Layout */
  @apply flex flex-col;
}

.cart-item-header {
  /* Sizing & spacing - mobile base */
  @apply mb-0 pr-2;
  width: calc(100% - 1.75rem);

  /* Layout & positioning */
  @apply flex justify-between items-center relative;
}

/* Desktop: reset width and padding */
@media (min-width: 768px) {
  .cart-item-header {
    /* Sizing & spacing */
    @apply w-auto pr-0 mb-2 gap-4;

    /* Layout & positioning */
    @apply items-start;
  }
}



/* ===== CART SUMMARY SECTION ===== */

.cart-summary-section {
  /* Layout & positioning */
  @apply static self-start;

  /* Typography */
  @apply font-serif;

  /* Behavior - (no scroll limit) */
  @apply overflow-y-visible max-h-none;
}

/* Desktop: sticky sidebar with scroll */
@media (min-width: 768px) {
  .cart-summary-section {
    /* Layout & positioning */
    @apply sticky top-44;

    /* Behavior */
    @apply overflow-y-auto max-h-[calc(100vh-10.5rem)];
  }
}

/* Order summary appears first on mobile */
.cart-summary-section {
  @apply order-1 w-full;
}

@media (min-width: 768px) {
  /* Reset order and width for desktop grid */
  .cart-summary-section {
    @apply order-none w-auto;
  }
}
.summary-card {
  /* Sizing & spacing */
  @apply p-8;

  /* Shape */
  @apply rounded-lg;

  /* Colors */
  @apply bg-white border border-gray-300;
}

.summary-title {
  /* Sizing & spacing */
  @apply mb-6;

  /* Typography */
  @apply text-xl font-normal tracking-wide font-serif;

  /* Colors */
  @apply text-neutral-900;
}

.summary-line {
  /* Sizing & spacing */
  @apply py-3;

  /* Layout */
  @apply flex justify-between items-center;

  /* Border */
  @apply border-b border-neutral-100;

  /* Typography */
  @apply text-sm font-sans;

  /* Colors */
  @apply text-neutral-600;
}

.summary-line:last-of-type {
  /* Border */
  @apply border-b-0;
}

.summary-total {
  /* Sizing & spacing */
  @apply mt-4 pt-4;

  /* Border */
  @apply border-t-2 border-neutral-200;

  /* Typography */
  @apply text-lg font-semibold font-sans;

  /* Colors */
  @apply text-neutral-900;
}

/* AUDIT - this has overlap with cart-actions named in cart_dropdown.css */
.cart-actions {
  /* Sizing & spacing */
  @apply mt-8 gap-4;

  /* Layout */
  @apply flex flex-col;
}
